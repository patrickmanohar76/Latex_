\documentclass{article}
\usepackage{multirow}
\usepackage{amsmath}
\usepackage{capt-of}
\usepackage{circuitikz}
\usetikzlibrary{shapes.geometric}
\begin{document}
The below circuit is to be implemented using the 7447 IC. \newline\newline\newline
\begin{tikzpicture}
\ctikzset{
logic ports=ieee,
logic ports/scale=0.8
}
\node[and port] (a) at (1,6){};
\node[xor port] (b) at (1,4){};
\node[and port] (c) at (1,2){};
\node[and port] (e) at (7,3){};
\draw(-1,6.23) node[above]{$P$} -- (0.25,6.23);
\draw(-1,5.23) node[above]{$Q$} -- (0.17,5.23);
\draw(-1,2.95) node[above]{$R$} -- (0.17,2.95);
\draw(-1,1.77) node[above]{$S$} -- (0.25,1.77);
\draw(a.in 2) -| (b.in 1);
\draw(b.in 2) -| (c.in 1);
\draw(b.out) -- ++(1.4,0) node{0};
\draw(c.out) -- ++(1.4,0) node{1};
\draw(e.out) -- ++(0.4,0) node{1};
\draw(a.out) -- ++(6.4,0) node{0};
\draw(6.15,3.25) -- (6.15,6);
\draw(4.95,2.78) -- (6.15,2.78);
	\draw(0,0) node[above]{$T$} -- (10,0);
	\draw(10,0) -- (10,0.5) node[above]{$S0$};
	\draw(4,0) -- (4,1.25) node[above]{$S0$};
	\draw(11.87,4.5) -- (14,4.5) node[above]{$Y$};
	\tikzstyle{mux} = [rectangle, draw, minimum height = 10em, text width = 5em]
\node[mux] (d) at (4,3) {MUX};
	\tikzstyle{mux}=[rectangle,draw,minimum height=20em,text width=10em]
	\node[mux] (f) at (10,4){MUX};
\end{tikzpicture}
\newline\newline
\begin{enumerate}
	\item Components
		\newline \captionof{table}{Table1}\label{table:1}\begin{tabular}{|p{5cm}|p{3cm}|p{2cm}|}
			\hline
			\multicolumn{3}{|c|}{COMPONENTS}\\
			\hline
			Component& Value& Quantity\\
			\hline
			Resistor &220 Ohm& 1\\
			\hline
			Arduino& UNO& 1\\
			\hline
			Seven Segment Display&  & 1\\
			\hline
			Decoder& 7447& 1\\
			\hline
			Jumper Wires& M-M& 20\\
			\hline
			Breadboard&  & 1\\
			\hline
		\end{tabular}
	\newline\newline\item Hardware
		\begin{enumerate}
			\item Make Connections between the seven segment display in and the 7447 IC as shown in \ref{table:2}.
				\newline \captionof{table}{Table2}\label{table:2}\begin{tabular}{|p{3cm}|p{1cm}|p{1cm}|p{1cm}|p{1cm}|p{1cm}|p{1cm}|p{1cm}|}
					\hline
					\multicolumn{8}{|c|}{7447 - Display}\\
					\hline
					7447& $\bar{a}$ & $\bar{b}$ & $\bar{c}$ & $\bar{d}$ & $\bar{e}$ & $\bar{f}$ & $\bar{g}$ \\
					\hline
					Display& a& b& c& d& e& f& g\\
					\hline
				\end{tabular}
				\newline
			\item Connect Vcc of the IC and COM of the dispaly to 5V and the GND pins of the IC and display to the Ground of arduino.
		\end{enumerate}
	\item Software
		\begin{enumerate}
			\item Now make the connections as per \ref{table:3}.
				\newline\captionof{table}{Table3}\label{table:3}\begin{tabular}{|p{3cm}|p{1cm}|p{1cm}|p{1cm}|p{1cm}|}
					\hline
					\multicolumn{5}{|c|}{7447 - Arduino}\\
					\hline
					7447& D& C& B& A\\
					\hline
					Arduino& 5& 4& 3& 2\\
					\hline
				\end{tabular}
				\newline
			\item In the truth table in \ref{table:4}, P,Q,R,S,T are the inputs and Y is the output.
				\newline\captionof{table}{Table4}\label{table:4}\begin{tabular}{|p{1cm}|p{1cm}|p{1cm}|p{1cm}|p{1cm}|p{1cm}|}
					\hline
					\multicolumn{6}{|c|}{Truth Table}\\
					\hline
					0& x& x& x& 1& 0\\
					\hline
					x& 0& x& x& 1& 0\\
					\hline
					x& x& 0& x& x& 0\\
					\hline
					x& x& x& 0& x& 0\\
					\hline
					x& x& 1& 1& 0& 1\\
					\hline
					1& 1& 1& 1& x& 1\\
					\hline
				\end{tabular}
		\newline\item Since, 7447 is a Seven Segment Display decoder, A represents the LSB and D represents the MSB. So giving the input to A displys either 0 or 1 on the Display.
			\item Since, the output of th mux is either 0 or 1, this output of mux i.e, Y can begiven as input to A of the 7447 IC so that the the output of the mux can be observed directly on the display.
			\item The boolean expression for the output (Y) of the second mux with the inputs (P,Q,R,S,T) will be simplified as \ref{eq:1}
				\begin{align}
					{Y} &= {T'PQ} + {PQRST}.
					\label{eq:1}
				\end{align}
				\item The code below realizes the Boolean logic for A with y being the input to A.
					\newline \fbox{\parbox{10cm}
				{//Declaring and initializing all variables as integers
		\newline\newline
		int P=0,Q=0,R=0,S=0,T=0;
		\newline
		int A,B,C,D;
		\newline\newline
		//function for A,B,C,D ins of 7447 IC
		\newline\newline
		void disp(int D,int C,int B,int A)$\{$ 
		\newline
		digitalWrite(2,A);//LSB
		\newline
		digitalWrite(2,A);
		\newline
		digitalWrite(2,A);
		\newline
		digitalWrite(2,A);//MSB $\}$
		\newline\newline
		//the setup function runs once when you press reset or power the board
		\newline\newline
		void setup()$\{$
		\newline
		pinMode(2,OUTPUT);
		\newline
		pinMode(3,OUTPUT);
		\newline
		pinMode(4,OUTPUT);
		\newline
		pinMode(5,OUTPUT);
		\newline$\}$
		\newline\newline
		//the loop function runs over and over again forever
		\newline\newline
		void loop()$\{$
		\newline
				A=(!T$\&\&$R$\&\&$S)$\|$(P$\&\&$Q$\&\&$R$\&\&$S$\&\&$T);
		\newline
		B=0;
		\newline
		C=0;
		\newline D=0;
		\newline
		disp(D,C,B,A);
		\newline$\}$}}
	\item Execute the above code and compare the results of output theoretically and practically.
	\end{enumerate}
\end{enumerate}
\end{document}
